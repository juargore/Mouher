apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'
apply plugin: 'realm-android'
apply plugin: 'com.google.gms.google-services'
apply plugin: 'androidx.navigation.safeargs.kotlin'

android {
    compileSdkVersion rootProject.ext.compileSdkVersion
    buildToolsVersion rootProject.ext.buildToolsVersion

    defaultConfig {
        // Key pass: Mouher2021
        multiDexEnabled true
        applicationId "com.glass.mouher"
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
        versionCode versCode as Integer
        versionName versName

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        debug {
            buildConfigField "String", "URL_PARENT", '"https://mouhermarket.com/admin/models/"'
            minifyEnabled false
            shrinkResources false
            debuggable true
        }
        release {
            buildConfigField "String", "URL_PARENT", '"https://mouhermarket.com/admin/models/"'
            minifyEnabled false
            shrinkResources false
            debuggable false

            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

    dataBinding {
        enabled = true
    }

    kotlinOptions {
        jvmTarget = rootProject.ext.jvm_target
        kotlinOptions.allWarningsAsErrors = false
    }

    lintOptions {
        abortOnError true
        ignoreWarnings false
        warningsAsErrors true
    }

    testOptions {
        unitTests {
            includeAndroidResources = true
        }
    }
    compileOptions {
        sourceCompatibility = rootProject.ext.java_version
        targetCompatibility = rootProject.ext.java_version
    }
}

dependencies {
    implementation fileTree(dir: "libs", include: ["*.jar"])

    // Kotlin
    implementation rootProject.ext.kotlin

    implementation platform('com.google.firebase:firebase-bom:28.3.1')

    implementation material
    implementation guavaConflict

    // AndroidX
    implementation androidAppCompat
    implementation androidCore
    implementation androidAnnotation
    implementation androidConstraintLayout
    implementation androidLifecycleExtension
    implementation androidLifecycleViewModel
    implementation androidLegacy
    implementation androidCamera
    implementation androidCameraLifecycle
    implementation androidCameraView
    implementation androidDynamicAnimation

    // Android navigation
    implementation androidNavFragment
    implementation androidNavUI

    implementation kotlinCoroutineCore

    // Glide: Image downloader + cache
    implementation glide
    implementation glideOkhttp
    kapt glideKapt

    // Swipe Layout
    implementation swipeLayout

    // ReactiveX
    implementation rxAndroid
    implementation rxKotlin
    implementation rxNetwork

    // Dependency injection
    implementation koin

    // Carousel View
    implementation carousel

    // Photo View
    implementation photoView

    // Anko
    implementation anko

    // Retrofit
    implementation retrofit
    implementation retrofitRxAdapter
    implementation retrofitOkhttp
    implementation retrofitLoggingInterceptors

    // Moshi
    implementation retrofitMoshiConverter

    // Month Picker dialog
    implementation monthPicker

    implementation project(':data')
    implementation project(':domain')

}
